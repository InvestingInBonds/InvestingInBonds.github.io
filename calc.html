<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-KXVJJLFTKW"></script>
		<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-KXVJJLFTKW');
		</script>
		
		<title>Yield Calculator</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>


    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <style>
        /* body {
            font-family: Arial, sans-serif;
            margin: 40px;
            background-color: #f4f5f7;
        } */

		.calculator-container {
        background-color: white;
		}

		.black-text {
		color: black;
		}

		.black-border {
			border: 1px solid black;
		}


        div.container1 {
            background-color: #ffffffe8;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            margin: 0 auto;
            margin-bottom: 40px;
        }

        label, input, select {
            display: block;
			color: rgb(1, 0, 0);
            width: 100%;
            margin-bottom: 15px;
            padding: 10px;
            font-size: 16px;
            box-sizing: border-box;
        }

        button, .link-button {
            cursor: pointer;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            padding: 15px 20px;
            font-size: 18px;
            color: white;
            text-decoration: none;
            display: block;
            margin: 10px 0;
            text-align: center;
            box-sizing: border-box;
        }

        button {
            background-color: #007BFF;
            width: 90%; 
			height: 10%;
			/* padding: 15px 20px; */
            margin-left: 5%; /* Centering the button */
			
        }

        #ajbell {
            background-color: #011F44;
        }

        #hl {
            background-color: #011F44;
        }

        #ii {
            background-color: #011F44;
        }

        .button-section {
            display: grid;
            grid-gap: 10px;
        }

        @media (min-width: 480px) {
            .button-section {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        h2, h3 {
            margin-top: 20px;
            margin-bottom: 10px;
            cursor: pointer;
        }

        #output {
            font-size: 24px;
            font-weight: bold;
            margin-top: 20px;
            margin-bottom: 5px;
            text-align: center;
        }

        #output-value {
            font-size: 50px;
            margin-bottom: 20px;
            text-align: center;
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
        }

        .collapsible-content {
            display: none;
            font-size: 14px;
        }

    </style>
	</head>
	<body class="is-preload">
		<!-- Header -->
		<header id="header">
			<a href="index.html" class="title">InvestingInBonds</a>
			<nav>
				<ul>
					<li><a href="index.html">Home</a></li>
					<li><a href="gov_table.html" >Top Gilts</a></li>
					<li><a href="corp_table.html">Corporate Bonds</a></li>
					<li><a href="calc.html" class="active">Yield Calculator</a></li>
					<li><a href="index.html#three">Invest Now</a></li>
				</ul>
			</nav>
		</header>


<script>
	function toggleContent(contentId) {
		let content = document.getElementById(contentId);
		if (content.style.display === "none" || content.style.display === "") {
			content.style.display = "block";
		} else {
			content.style.display = "none";
		}
	}

	function calculateGEY() {
		let y = parseFloat(document.getElementById("couponRate").value) / 100;
		let maturityDate = new Date(document.getElementById("maturityDate").value);
		let today = new Date();
		let t = (maturityDate - today) / (365.25 * 24 * 60 * 60 * 1000);  // Number of years from today to the maturity date
		let p = parseFloat(document.getElementById("price").value);
		let taxBand = document.getElementById("taxRateBand").value;
		let T;

		switch (taxBand) {
			case "personalAllowance":
				T = 0;
				break;
			case "basic":
				T = 0.2;
				break;
			case "higher":
				T = 0.4;
				break;
			case "additional":
				T = 0.45;
				break;
			default:
				T = 0;
		}

		let gey;
		if (document.getElementById("savingsAccountType").value === "Fixed-Term") {
			gey = (((100 + 100 * y * t * (1 - T)) / p - T) / (1 - T)) ** (1 / t) - 1;
		} else {
			gey = ((((100 + 100 * y * t * (1 - T)) / p) ** (1 / t) - 1) / (1 - T));
		}

		gey *= 100; // Convert to percentage

		document.getElementById("output-value").innerText = gey.toFixed(2) + "%";
		document.getElementById("explanation").innerText = "This means you would need to earn " + gey.toFixed(2) + "% per year in a " + document.getElementById("savingsAccountType").value + " savings account to earn as much as this bond.";
	}

	// Set min date for maturity date input to tomorrow
	const tomorrow = new Date();
	tomorrow.setDate(tomorrow.getDate() + 1);
	document.getElementById("maturityDate").min = tomorrow.toISOString().split('T')[0];
</script>
		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<section id="main" class="wrapper">
						<div class="inner">
							<h1 class="major">Gross Equivalent Yield Calculator</h1>
							<p>By inputting the relevant characteristic of a bond that is not subject to Captial Gains Tax, you can calculate the Gross Equivalent Yield for both regular and fixed-term savings accounts.</p>
						 <!-- User Interface -->
 <div class="container1">
	<!-- <h1>Gross Equivalent Yield Calculator</h1> -->
	
	<label for="couponRate">Coupon Rate (%):</label>
	<input type="number" id="couponRate" step="0.125" min="0" max="100" value="0">

	<label for="maturityDate">Maturity Date:</label>
	<input type="date" id="maturityDate" min="" placeholder="Select a date">
	
	<label for="price">Price (£):</label>
	<input type="number" id="price" step="0.01" min="0" value="0">

	<label for="taxRateBand">Tax Rate Band:</label>
	<select id="taxRateBand" class="black-border">
		<option value="additional">Additional</option>
		<option value="higher">Higher</option>
		<option value="basic">Basic</option>
		<option value="personalAllowance">Personal Allowance</option>
	</select>

	<label for="savingsAccountType">Savings Account Type:</label>
	<select id="savingsAccountType" class="black-border">
		<option value="Regular">Regular</option>
		<option value="Fixed-Term">Fixed-Term</option>
	</select>

	<button onclick="calculateGEY()">Calculate</button>
	
	<div class="black-text">
	<div id="output">Gross Equivalent Yield</div>
	<div id="output-value">-%</div>
	<div id="explanation"></div>
</div>
	<h3 class="black-text">Invest Now</h3>
	<!-- Link Buttons -->
	<div class="button-section">
		<a href="https://www.ajbell.co.uk/" target="_blank" class="link-button" id="ajbell">AJ Bell</a>
		<a href="https://www.hl.co.uk/" target="_blank" class="link-button" id="hl">Hargreaves Lansdown</a>
		<a href="https://www.ii.co.uk/" target="_blank" class="link-button" id="ii">Interactive Investor</a>
	</div>

</div>

<!-- Model Assumptions and Disclaimer -->

<div class="container1">
	<div class="black-text">
	<h4 onclick="toggleContent('assumptions-content')" class="black-text">Technical Assumptions ▼</h4>
	<div class="collapsible-content" id="assumptions-content">
<ul>
<li>Coupons are not reinvested. This means that the calculator is actually underestimating true Gross Equivalent Yield if one were to reinvest coupon payments.</li>
<li>HS343 Accrued Income Scheme (2021) holds.</li>
<li>User has no Personal Savings Allowance (PSA) remaining. Note that additional rate taxpayers receive zero PSA.</li>
<li>The bond for which parameters are being inputted is risk-free.</li>
</ul>
	</div>

	<h4 onclick="toggleContent('disclaimer-content')" class="black-text">Disclaimer ▼</h4>
	<div class="collapsible-content" id="disclaimer-content">
		The information provided on this website is intended solely for informational purposes and does not constitute tax or investment advice. Users of this website are advised to seek independent financial and tax advice from qualified professionals before making any investment decisions.<br><br>

The content on this website is for informational purposes only and should not be construed as an inducement, recommendation, or solicitation to buy, sell, or invest in any financial product, including but not limited to UK government or non-government bonds.<br><br>

It is important to note that all investments carry inherent risks, and past performance of any investment is not indicative of future results. The website does not guarantee any specific investment returns or outcomes related to the strategies discussed.<br><br>

The website owners, administrators, authors, and affiliates shall not be held liable for any losses, damages, or consequences arising from the use of information provided on this website. Users are solely responsible for their investment decisions and should conduct their due diligence before making any financial commitments.<br><br>

By using this website, users agree to indemnify and hold harmless the website owners, administrators, authors, and affiliates from any claims, losses, damages, or liabilities that may arise as a result of reliance on the information provided on the website.<br><br>

It is recommended that users carefully read and understand this disclaimer before accessing or using any information on the website. Your continued use of the website constitutes your acceptance and agreement to abide by this disclaimer.
	</div></div>
</div>
						</div>
						
					</section>

			</div>

		<!-- Footer -->
		<footer id="footer" class="wrapper alt">
			<div class="inner">
				<ul class="menu">
					<li>&copy; 2023 Yajat Bansal and Tariq Shaikh.</li>
					<li><a href="disclaimer.html">Disclaimer</a></li>
					<li><a href="privacy_policy.html">Privacy Policy</a></li>
					<li><a href="cookies.html">Cookies Disclosure</a></li>
					<li><a href="mailto:info@investinginbonds.co.uk">info@investinginbonds.co.uk</a></li>
					<!-- <li>Design: <a href="http://html5up.net">HTML5 UP</a></li> -->
				</ul>
			</div>
		</footer>


		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>